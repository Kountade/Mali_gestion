{% extends "base.html" %} {% load static %} {% block content %}
<div class="container">
  <div class="page-inner">
    <div class="page-header d-flex align-items-center justify-content-between">
      <h3 class="fw-bold mb-3">
        <i class="fas fa-calendar-alt"></i> Détails de l'Année Scolaire : {{ annee_scolaire.reference }}
      </h3>
      <ul class="breadcrumbs mb-3">
        <li class="nav-home">
          <a href="#">
            <i class="fas fa-home"></i>
          </a>
        </li>
        <li class="separator">
          <i class="fas fa-chevron-right"></i>
        </li>
        <li class="nav-item">
          <a href="#"><i class="fas fa-calendar-alt"></i> Années Scolaires</a>
        </li>
        <li class="separator">
          <i class="fas fa-chevron-right"></i>
        </li>
        <li class="nav-item">
          <a href="#"
            ><i class="fas fa-calendar"></i> {{ annee_scolaire.reference }}</a
          >
        </li>
      </ul>
    </div>

    <!-- Onglets -->
    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a
              class="nav-link active"
              id="details-tab"
              data-toggle="tab"
              href="#details"
              role="tab"
            >
              <i class="fas fa-info-circle"></i> Détails
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              id="classes-tab"
              data-toggle="tab"
              href="#classes"
              role="tab"
            >
              <i class="fas fa-chalkboard"></i> Classes
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              id="professeurs-tab"
              data-toggle="tab"
              href="#professeurs"
              role="tab"
            >
              <i class="fas fa-user-tie"></i> Professeurs
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              id="salles-tab"
              data-toggle="tab"
              href="#salles"
              role="tab"
            >
              <i class="fas fa-door-open"></i> Salles
            </a>
          </li>
        </ul>

        <!-- Contenu des onglets -->
        <div class="tab-content" id="myTabContent">
          <!-- Onglet Détails -->
          <div class="tab-pane fade show active" id="details" role="tabpanel">
            <div class="card mt-4">
              <div class="card-header bg-primary text-white">
                <h4 class="card-title">
                  <i class="fas fa-info-circle"></i> Détails de l'Année Scolaire
                </h4>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <p>
                      <strong>Référence :</strong> {{ annee_scolaire.reference }}
                    </p>
                    <p>
                      <strong>Date de début :</strong> {{ annee_scolaire.debut }}
                    </p>
                    <p>
                      <strong>Date de fin :</strong> {{ annee_scolaire.fin }}
                    </p>
                    <p>
                      <strong>Statut :</strong> {{ annee_scolaire.get_statut_display }}
                    </p>
                  </div>
                  <div class="col-md-6">
                    <p>
                      <strong>Nombre de classes :</strong> {{ annee_scolaire.nombre_classes }}
                    </p>
                    <p>
                      <strong>Nombre d'élèves :</strong> {{ annee_scolaire.nombre_eleves }}
                    </p>
                    <p>
                      <strong>Nombre de professeurs :</strong> {{ annee_scolaire.nombre_professeurs }}
                    </p>
                    <p>
                      <strong>Nombre d'examens :</strong> {{ annee_scolaire.nombre_examens }}
                    </p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <p>
                      <strong>Description :</strong> {{ annee_scolaire.description }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Onglet Classes -->
          <div class="tab-pane fade" id="classes" role="tabpanel">
            <div class="card mt-4">
              <div class="card-header bg-warning text-white">
                <h4 class="card-title">
                  <i class="fas fa-chalkboard"></i> Classes
                </h4>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-striped table-hover datatable">
                    <thead class="bg-light">
                      <tr>
                        <th><i class="fas fa-id-badge"></i> Référence</th>
                        <th><i class="fas fa-school"></i> Nom</th>
                        <th><i class="fas fa-layer-group"></i> Niveau</th>
                        <th><i class="fas fa-users"></i> Effectif</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for classe in classes %}
                      <tr>
                        <td>{{ classe.reference }}</td>
                        <td>{{ classe.nom }}</td>
                        <td>{{ classe.niveau }}</td>
                        <td>{{ classe.effectif }}</td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Onglet Professeurs -->
          <div class="tab-pane fade" id="professeurs" role="tabpanel">
            <div class="card mt-4">
              <div class="card-header bg-info text-white">
                <h4 class="card-title">
                  <i class="fas fa-user-tie"></i> Professeurs
                </h4>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-striped table-hover datatable">
                    <thead class="bg-light">
                      <tr>
                        <th><i class="fas fa-user"></i> Nom</th>
                        <th><i class="fas fa-user"></i> Prénom</th>
                        <th><i class="fas fa-envelope"></i> Email</th>
                        <th><i class="fas fa-phone"></i> Téléphone</th>
                        <th><i class="fas fa-briefcase"></i> Spécialité</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for professeur in professeurs %}
                      <tr>
                        <td>{{ professeur.nom }}</td>
                        <td>{{ professeur.prenom }}</td>
                        <td>{{ professeur.email }}</td>
                        <td>{{ professeur.telephone }}</td>
                        <td>{{ professeur.specialite }}</td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Onglet Salles -->
          <div class="tab-pane fade" id="salles" role="tabpanel">
            <div class="card mt-4">
              <div class="card-header bg-success text-white">
                <h4 class="card-title">
                  <i class="fas fa-door-open"></i> Salles
                </h4>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-striped table-hover datatable">
                    <thead class="bg-light">
                      <tr>
                        <th><i class="fas fa-id-badge"></i> Référence</th>
                        <th><i class="fas fa-door-open"></i> Nom</th>
                        <th><i class="fas fa-cog"></i> Type</th>
                        <th><i class="fas fa-users"></i> Capacité</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for salle in salles %}
                      <tr>
                        <td>{{ salle.reference }}</td>
                        <td>{{ salle.nom }}</td>
                        <td>{{ salle.type_salle }}</td>
                        <td>{{ salle.capacite }}</td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Styles CSS pour améliorer l'affichage -->
<style>
  .table-responsive {
    overflow-x: auto;
  }
  th,
  td {
    text-align: center;
  }
  .nav-tabs .nav-link {
    font-weight: bold;
  }
  .nav-tabs .nav-link i {
    margin-right: 5px;
  }
  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
</style>

<!-- FontAwesome pour les icônes -->
<script
  src="https://kit.fontawesome.com/a076d05399.js"
  crossorigin="anonymous"
></script>

<!-- jQuery et Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script>
  $(document).ready(function () {
    $(".datatable").DataTable({
      pageLength: 10,
      responsive: true,
      autoWidth: false,
      columnDefs: [
        { width: "20%", targets: 0 },
        { width: "15%", targets: "_all" },
      ],
      language: {
        paginate: {
          previous: "<i class='fas fa-chevron-left'></i>",
          next: "<i class='fas fa-chevron-right'></i>",
        },
      },
    });
  });
</script>

{% endblock content %}
